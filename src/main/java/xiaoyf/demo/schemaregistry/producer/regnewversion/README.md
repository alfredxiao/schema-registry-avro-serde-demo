compatibility check

for example, default is BACKWARD, only allowed changes:
1. Delete fields
2. Add optional fields
